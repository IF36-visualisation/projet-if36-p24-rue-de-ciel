---
title: "Percer les secrets du succès du film"
author: "Shi Anhe, Jiao Zihang, Zhao Biwei, Zhang Kaixuan"
output:
  pdf_document:
    latex_engine: xelatex
  html_document:
    df_print: paged
date: "2024-04-28"
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## QUESTION 1 :

Existe-t-il une corrélation entre les recettes nationales et
internationales, la durée du film, le budget du film, la note moyenne du
film, le nombre de personnes ayant voté pour le film et l'indice
d'approbation ?

### **Étapes du traitement des données**：

1.  **nettoyage des données** :J'ai d'abord filtré l'ensemble des
    données pour les colonnes dont j'avais besoin pour explorer la
    corrélation, c'est-à-dire les colonnes numériques.

<!-- -->

2.  **renommage des colonnes** : J'ai simplifié les noms de colonnes
    comportant des symboles spéciaux et les noms de colonnes trop
    complexes pour la suite du traitement.

3.  **récupération des valeurs nulles** : j'ai vérifié la présence de
    valeurs nulles dans ces colonnes et, si elles existaient, elles
    devaient être traitées.

### **Visualisation**：

```{r}
library(ggplot2)
library(dplyr)
library(corrplot)
movies <- read.csv("q1.csv")
```

```{r }
# Sélectionnez les colonnes à analyser
selected_columns <- movies %>% 
  select(avgRating, Votes, approval_Index, budget, DomesticGross, WorldwideGross, runtime)

# Calculez la matrice des coefficients de corrélation
cor_matrix <- cor(selected_columns)

```

```{r}
knitr::opts_chunk$set(echo = TRUE)
# Cartographie thermique des corrélations
corrplot(cor_matrix, method = "color", type = "upper", order = "hclust",
         cl.pos = "n",  # Cacher la légende des couleurs
         number.cex = 0.8,  # Définir la taille de la valeur
         addCoef.col = "black")  # Ajoutez des couleurs aux valeurs des coefficients de corrélation sur la carte thermique.

```

### Analyse graphique：

Cette carte thermique montre la corrélation entre différentes variables
dans un ensemble de données cinématographiques. Les corrélations vont de
-1 (corrélation négative parfaite) à +1 (corrélation positive parfaite),
une valeur proche de 0 indiquant qu'il n'y a pas de corrélation
significative. Les couleurs plus foncées indiquent des corrélations plus
fortes, le bleu représentant une corrélation positive et le rouge (s'il
est présent) une corrélation négative. Le fait qu'aucune couleur rouge
n'apparaisse ici signifie que la corrélation entre toutes les variables
est positive.

1.  Budget & WorldwideGross ; Budget & DomesticGross : Les coefficients
    de corrélation sont respectivement de 0,73 et 0,66, ce qui montre
    une forte corrélation positive. Cela signifie que plus le budget
    d'un film est élevé, plus ses recettes mondiales et nationales
    tendent à l'être.

2.  DomesticGross & WorldwideGross : le coefficient de corrélation est
    de 0,94, ce qui indique une très forte corrélation positive entre
    les deux. Cela suggère que les films qui obtiennent habituellement
    de bons résultats au box-office national obtiendront également de
    bons résultats sur le marché mondial.

3.  La note du film (avgRating) et l'indice d'approbation
    (approval_Index) : le coefficient de corrélation est de 0,83, ce qui
    indique qu'il existe une forte corrélation positive entre les deux
    mesures, ce qui signifie que les films ayant une note élevée ont
    tendance à avoir également un indice d'approbation élevé.

4.  Les votes et l'indice d'approbation : le coefficient de corrélation
    est de 0,7, ce qui est une forte corrélation positive, indiquant que
    les films ayant plus de votes ont tendance à avoir un indice
    d'approbation plus élevé.

5.  La corrélation relativement faible entre la durée du film et les
    autres variables suggère que la durée du film n'est pas un facteur
    majeur affectant le box-office, les notes et l'indice d'approbation.

### Conclusion：

La forte corrélation positive entre le budget de production d'un film et
les recettes du box-office mondial peut refléter le fait que les films à
plus gros budget disposent de plus de ressources pour attirer le public,
notamment grâce à des stars de renom, des effets spéciaux de haute
qualité et un marketing intensif. La corrélation très élevée entre le
box-office national et le box-office mondial peut signifier que les
films à succès ont tendance à être généralement bien accueillis au
niveau mondial, ou que les films ayant un box-office national élevé sont
plus susceptibles de bénéficier d'une distribution et d'une publicité
internationales. La note moyenne d'un film, le nombre de votes, est
fortement corrélée avec l'indice d'approbation, car l'indice
d'approbation est une valeur calculée à partir de la note moyenne du
film et du nombre de votes combinés.

------------------------------------------------------------------------

## **QUESTION2 :**

Quelles sont les catégories de films dont le retour sur investissement
(ROI) moyen est le plus élevé ?

**La phase de préparation des données:**

1.  **Conversion des données** : veillez à ce que tous les champs
    numériques, tels que le budget et les recettes des guichets, soient
    convertis en types numériques pour faciliter les calculs
    mathématiques.

2.  **Décomposition des données**:

    **Chaîne divisée** : nous avons décomposé les multiples catégories
    du champ « type de film » en lignes séparées par « , », chaque ligne
    contenant un film et un genre, ce qui facilite l'analyse d'un seul
    genre.

    **Création d'une nouvelle variable** : nous avons créé une nouvelle
    variable, le retour sur investissement (ROI) :
    $\text{ROI} = \left( \frac{\text{Worldwide\_gross} - \text{Production\_budget}}{\text{Production\_budget}} \right) \times 100$

3.  **Agrégation des données:**

    **Agrégation par catégorie:** nous avons agrégé les données par
    genre de film et calculé le retour sur investissement moyen pour
    chaque catégorie.

    **Tri:** les résultats ont été triés par retour sur investissement,
    montrant clairement les genres de films ayant le retour sur
    investissement le plus élevé, ce qui permet d'identifier rapidement
    les catégories les plus performantes.

### **Visualisation :**

```{r}
library(ggplot2)

data <- read.csv("ex2.csv")

ggplot(data, aes(x=reorder(genre, -ROI), y=ROI, fill=genre)) +
  geom_bar(stat="identity", color="black") +
  theme_minimal() +
  labs(title="Average ROI by Movie Genre",
       x="Genre",
       y="Return on Investment (ROI)",
       fill="Genre") +
  theme(axis.text.x=element_text(angle=45, hjust=1)) # Rotate x-axis labels for better readability

```

### **Analyse graphique:**

Cet histogramme montre le retour sur investissement (ROI) moyen pour
différents genres de films.

**Genres à ROI élevé :** Les actualités ont le retour sur investissement
moyen le plus élevé de tous les genres, bien plus élevé que les autres
genres. Cela pourrait indiquer que les films d'actualité sont moins
chers à produire ou qu'ils ont un public restreint mais régulier. Les
documentaires ont également un retour sur investissement relativement
élevé, ce qui suggère que, comme pour les actualités, ces genres ont des
coûts de production moins élevés ou une base d'audience fidèle qui
assure leur rentabilité.

**Les genres à ROI moyen à élevé :** Les films de guerre, de suspense,
les films noirs et les films d'horreur ont un retour sur investissement
plus élevé. Ces genres peuvent également être en mesure de bien
contrôler les coûts ou d'attirer fortement leur public cible, ce qui les
rend relativement performants en termes de retour sur investissement.

**Les genres à ROI moyen :** Les genres tels que l'animation, la
science-fiction, le thriller, la musique, le sport et la fantaisie
affichent un retour sur investissement moyen, ce qui suggère que ces
genres peuvent nécessiter un investissement plus important, mais qu'ils
peuvent néanmoins obtenir de bons résultats sur le marché.

**Les genres à faible ROI :** Les genres populaires tels que le drame,
la comédie, la romance et l'action ont un faible retour sur
investissement. Il s'agit de genres populaires, mais le faible retour
sur investissement peut être dû à des coûts de production plus élevés et
à une concurrence intense sur le marché. Les biographies et l'histoire
affichent également un faible retour sur investissement, ce qui peut
refléter les coûts plus élevés ou les publics plus restreints qui
peuvent être impliqués dans la représentation précise d'événements
historiques ou biographiques.

### **Conclusion :**

**Coût par rapport à la taille du public :** les genres ayant le
meilleur retour sur investissement tendent à être ceux qui peuvent être
produits à moindre coût ou ciblés sur des segments de public spécifiques
qui garantissent une audience ou des ventes suffisantes par rapport à
leur budget.

**Les genres populaires et le retour sur investissement :** les genres
plus courants tels que l'action, la comédie et le drame ont généralement
un retour sur investissement plus faible, peut-être en raison des coûts
de production élevés et de la nécessité d'attirer un large public, ce
qui peut s'avérer plus risqué en termes de rentabilité.

**Tendances du marché :** la popularité et la rentabilité des actualités
et des documentaires peuvent refléter l'évolution actuelle du marché
vers des divertissements plus basés sur les faits et la vie réelle, qui
peut être influencée par les plateformes numériques et l'évolution des
préférences du public.

Cette analyse des ROI par genre cinématographique offre aux
investisseurs et producteurs de l'industrie cinématographique des
insights précieux, leur permettant de prendre des décisions
d'investissement plus éclairées, d'optimiser la répartition des budgets
et de développer des stratégies de marketing plus efficaces. En
comprenant quels genres de films peuvent générer un retour sur
investissement plus élevé et ceux qui pourraient nécessiter des
stratégies innovantes pour améliorer leur performance sur le marché, les
professionnels du secteur peuvent mieux s'adapter aux dynamiques du
marché et augmenter le potentiel de succès commercial de leurs projets.
---

## **QUESTION 3** :

Quelle est l'évolution des budgets de production et des recettes des
films de différentes générations ?

### Hypothèse :

Au fil du temps, les budgets de production et les recettes des films ont
augmenté.

### **Étapes du traitement des données**：

1.  Lire les données du fichier.
2.  Nettoyez et prétraitez les données (traitement des valeurs
    manquantes et des valeurs aberrantes).
3.  Regroupez les données par décennies, de 1910 à 2010.4.Calculez le
    budget de production moyen, les recettes brutes nationales et les
    recettes brutes mondiales pour chaque décennie.

### Visualisation

```{r}
library(ggplot2)
library(readr)
library(dplyr)
library(tidyr)

# récupérer des données
data <- read_csv("movie_statistic_dataset.csv")

# Date et période de traitement
data$production_year <- as.numeric(format(as.Date(data$production_date, "%Y-%m-%d"), "%Y"))
data$decade <- cut(data$production_year, breaks = seq(1910, 2020, by = 10), right = FALSE, labels = seq(1910, 2010, by = 10))

# Calcul du budget moyen et des recettes au guichet pour chaque période
budget_income_by_decade <- data %>%
  filter(!is.na(decade)) %>%
  group_by(decade) %>%
  summarise(average_budget = mean(`Production budget $`, na.rm = TRUE),
            average_domestic_gross = mean(`Domestic gross $`, na.rm = TRUE),
            average_worldwide_gross = mean(`Worldwide gross $`, na.rm = TRUE))

# Convertir les données dans un format long pour faciliter la représentation graphique
budget_income_long <- budget_income_by_decade %>%
  pivot_longer(cols = c("average_budget", "average_domestic_gross", "average_worldwide_gross"),
               names_to = "category",
               values_to = "amount")

# Tracer des graphiques linéaires
ggplot(budget_income_long, aes(x = decade, y = amount, color = category, group = category)) +
  geom_line() +
  geom_point() +
  labs(x = "Decade", y = "Amount (USD)", title = "Average Budget and Gross by Decade (1910-2010)") +
  theme_minimal()
```

### Analyse

**Augmentation générale** : Les trois catégories (budget moyen, recettes
nationales et recettes mondiales) affichent une tendance générale à la
hausse au fil du temps, ce qui indique que les films sont devenus plus
coûteux à produire et ont généré des recettes plus élevées au fil des
ans.

**Recettes brutes mondiales** : La moyenne des recettes brutes mondiales
(ligne bleue) a toujours été supérieure à la moyenne des recettes brutes
nationales (ligne verte). Cette tendance suggère que les marchés
internationaux sont devenus de plus en plus importants pour l'industrie
cinématographique au fil du temps. La marge brute mondiale a connu un
bond substantiel à partir des années 1990, ce qui met en évidence
l'augmentation du public mondial pour les films. Recettes brutes
nationales : La moyenne des recettes intérieures (ligne verte) est en
augmentation constante, mais sa croissance est plus modeste que celle
des recettes mondiales. Cette tendance indique que si les recettes
nationales sont importantes, les marchés internationaux offrent un plus
grand potentiel de recettes.

**Budget de production** : Le budget de production moyen (ligne rouge) a
également augmenté, bien que son taux de croissance soit plus lent que
les tendances des recettes. Cette observation suggère que si la
production de films est devenue plus coûteuse, l'augmentation des
recettes a généralement été plus rapide que celle des coûts de
production.

**Anomalie dans les années 1930** : On observe un pic notable dans les
années 1930 en ce qui concerne les recettes brutes mondiales. Cela
pourrait être dû à quelques films à forte audience au cours de cette
décennie ou à des inexactitudes dans les données pour cette période. Une
enquête plus approfondie pourrait être nécessaire pour comprendre cette
anomalie.

### Conclusion

Le graphique confirme l'hypothèse selon laquelle les budgets de
production des films et les recettes au guichet ont augmenté au fil du
temps. Cette tendance est cohérente avec l'ampleur croissante de
l'industrie cinématographique et l'augmentation de la demande de
divertissement dans le monde entier. Le graphique met également en
évidence l'importance des marchés internationaux pour l'industrie
cinématographique, comme le montre l'augmentation des recettes brutes
mondiales par rapport aux recettes brutes nationales.

------------------------------------------------------------------------

## **QUESTION 4** :

Quels sont les genres de films les plus populaires sur les marchés
cinématographiques respectifs des États-Unis et de l'Inde ?

### **Étapes du traitement des données**：

1.  **Nettoyage des données** : nous devons tout d'abord normaliser le
    champ `genre` dans chaque ensemble de données en le convertissant en
    minuscules et en supprimant les espaces supplémentaires.

2.  **Fusion des données** : nous avons fusionné les informations
    relatives au genre dans les deux ensembles de données. Pour ce
    faire, nous avons calculé le pourcentage de chaque genre par rapport
    au nombre total de films dans le pays concerné, puis nous avons
    combiné ces pourcentages en un seul ensemble de données.

3.  **Conversion des données** : les tailles d'échantillon des deux
    ensembles de données étant différentes, nous avons converti le
    nombre absolu de genres en proportions.

4.  **Tri et préparation de la visualisation** : enfin, nous avons trié
    les genres en fonction de leur popularité globale (la somme des
    proportions des deux pays) afin de les afficher par ordre de
    popularité dans la visualisation.

### Visualisation：

```{r}
library(ggplot2)
library(dplyr)
library(tidyr)

data <- read.csv("genre_percentage_comparison.csv")

# Traitement des données, conversion des formats longs en formats larges
data_long <- pivot_longer(data, cols = c("Percentage_US", "Percentage_India"), names_to = "Country", values_to = "Percentage")

ggplot(data_long, aes(x = reorder(Genre, -Percentage), y = Percentage, fill = Country)) +
  geom_bar(stat = "identity", position = position_dodge()) +
  theme_minimal() +
  labs(title = "Genre Popularity Proportion Comparison between US and India Movies",
       x = "Genre",
       y = "Percentage",
       fill = "Country") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

### Analyse graphique

-   **Les drames et les comédies** sont les genres les plus populaires
    dans les deux pays, en particulier en Inde, surtout pour les drames.

-   Les films **musicaux** et **d'animation** sont plus répandus en
    Inde, ce qui peut refléter un penchant particulier pour ces genres
    dans la culture indienne. En revanche, les films **biographiques**
    et les films de **science-fiction** sont plus populaires aux
    États-Unis.

-   Différences régionales dans les genres de niche : les genres de
    niche tels que le **western** et le **roman noir** n'existent qu'aux
    États-Unis, ce qui peut être lié à l'histoire et aux préférences
    culturelles des industries cinématographiques des deux pays.

-   Diversité des genres : le graphique montre que les films américains
    semblent **plus diversifiés** en termes de genres, avec de nombreux
    genres de niche couvrant un plus large éventail de films, même si le
    pourcentage n'est pas élevé.

### Conclusion

**Diversité et concentration** : le marché cinématographique américain
présente un niveau plus élevé de diversité des genres, y compris un plus
grand nombre de genres cinématographiques de niche et de nature
expérimentale. En revanche, le marché cinématographique indien concentre
davantage de ressources et d'attention sur un nombre plus restreint de
genres populaires.

**Différences dans les stratégies de marché** : le marché
cinématographique indien peut se concentrer davantage sur les genres
traditionnels et populaires, tandis que le marché américain est plus
enclin à explorer de nouveaux genres et l'utilisation de la technologie
pour attirer un large public mondial.

**Reflets des préférences du public** : la popularité des genres
cinématographiques reflète les caractéristiques culturelles, les
préférences du public et les habitudes de consommation des pays
respectifs. Par exemple, le public indien a une forte préférence pour la
musique et les thèmes familiaux, tandis que le public américain est plus
intéressé par la technologie et les éléments fantastiques.

**Maturité de l'industrie cinématographique** : l'industrie
cinématographique américaine est plus mature et peut investir et innover
dans un large éventail de genres, alors que le cinéma indien peut être
plus conservateur dans son exploration des genres.
